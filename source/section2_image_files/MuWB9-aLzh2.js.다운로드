;/*FB_PKG_DELIM*/

__d("IGDSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}f.getIGDSupportedFileTypes=a}),66);
__d("IGDDisappearingMessagesBlockedComposer.react",["fbt","MWXComposerBanner.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(7);a=a.loggingEventName;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__HYBQYSVaqer__JHASH__"),b[0]=d):d=b[0];d=d;var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__Iv_ZxhLNItG__JHASH__"),b[1]=e):e=b[1];e=e;var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={is_dm:"true"},b[2]=f):f=b[2];b[3]!==a?(f={eventName:a,extraData:f},b[3]=a,b[4]=f):f=b[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(f);b[5]!==a?(f=k.jsx(c("MWXComposerBanner.react"),{bodyText:e,headerText:d,ref:a}),b[5]=a,b[6]=f):f=b[6];return f}g["default"]=a}),98);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:4898","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));e=j;var n=e.useContext,o=e.useEffect,p=e.unstable_useMemoCache,q={cancelButton:{paddingTop:"xexx8yu",$$css:!0},container:{alignItems:"x1cy8zhl",backgroundColor:"xvbhtw8",borderTop:"x1wzhzgj",display:"x78zum5",justifyContent:"x1qughib",paddingBottom:"xg8j3zb",paddingEnd:"x14uny0o",paddingLeft:null,paddingRight:null,paddingStart:"xvpee5o",paddingTop:"x889kno",$$css:!0},message:{marginEnd:"xmo9yow",marginLeft:null,marginRight:null,$$css:!0}};function r(a,b,e){var f=a.isUnsent;a=a.text;b=b||{};b=b.attachmentType;var g=!c("isStringNullOrEmpty")(a);if(f)return h._("__JHASH__JCseFdR_8CQ__JHASH__");if(g){return m.jsx(c("MWChatReplyText.react"),{isHotLike:e,text:(f=a)!=null?f:h._("__JHASH__niT7GfOrAW1__JHASH__").toString(),transformEmoticons:!1})}if(b)if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__O5FbckBKjss__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__sAL54A0QrH4__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__f7tz0r8St5p__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._("__JHASH__oLHsOposBZ7__JHASH__");else return h._("__JHASH__C_JL7zn5dqE__JHASH__");else return h._("__JHASH__niT7GfOrAW1__JHASH__")}r.displayName=r.name+" [from "+f.id+"]";function s(a,b){if(b)return h._("__JHASH__LByR5v-54e3__JHASH__");if(!a)return h._("__JHASH__lRWnkiJRzRt__JHASH__",[h._param("Placeholder for an unknown user on Instagram","Instagram User")]);else{return h._("__JHASH__gMDBIOKzAoP__JHASH__",[h._param("name",m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:(b=a.firstName)!=null?b:a.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(a.gender))])])}}function t(a){var e=p(26),g=a.isSecureThread;a=a.message;var h=(i||(i=c("useReStore")))(),j=d("MWPActor.react").useActor(),n=a.hotEmojiSize,q=a.messageId,t=a.senderId,u=a.text,v=a.threadKey;j=(k||(k=d("I64"))).equal(t,j);var w;e[0]!==h.tables.contacts||e[1]!==t?(w=function(){return d("ReQL").fromTableAscending(h.tables.contacts).getKeyRange(t)},e[0]=h.tables.contacts,e[1]=t,e[2]=w):w=e[2];var x;e[3]!==h||e[4]!==t?(x=[h,t],e[3]=h,e[4]=t,e[5]=x):x=e[5];w=d("ReQLSuspense").useFirst(w,x,f.id+":200");e[6]!==h.tables.attachments||e[7]!==v||e[8]!==q?(x=function(){return d("ReQL").fromTableAscending(h.tables.attachments).getKeyRange(v,q)},e[6]=h.tables.attachments,e[7]=v,e[8]=q,e[9]=x):x=e[9];var y;e[10]!==h||e[11]!==q||e[12]!==v?(y=[h,q,v],e[10]=h,e[11]=q,e[12]=v,e[13]=y):y=e[13];x=d("ReQLSuspense").useFirst(x,y,f.id+":205");var z;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}})},z=[],e[14]=y,e[15]=z):(y=e[14],z=e[15]);o(y,z);y=u!=null?b("cr:4898")!=null?b("cr:4898").unvault(u):u:"";z=n!=null?y==="\ud83d\udc4d"&&((k||(k=d("I64"))).equal(n,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(k||(k=d("I64"))).equal(n,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(k||(k=d("I64"))).equal(n,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&g:!1;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(u="xmo9yow",e[16]=u):u=e[16];y=s(w,j);e[17]!==y?(n=m.jsxs(c("IGDSText.react"),{size:"body",children:[y," "]}),e[17]=y,e[18]=n):n=e[18];e[19]!==a||e[20]!==x||e[21]!==z?(g=r(a,x,z),e[19]=a,e[20]=x,e[21]=z,e[22]=g):g=e[22];e[23]!==n||e[24]!==g?(w=m.jsx("div",{className:u,children:m.jsx(c("MDSTextPairing.react"),{body:n,level:3,meta:g})}),e[23]=n,e[24]=g,e[25]=w):w=e[25];return w}function u(a){var b=p(16),e=a.isSecureThread;a=a.message;var f=a.threadKey,g=n(d("MWPReplyContext.react").MWPReplyContext),i=g.clearReply,j=n(c("CometTriggerAccessibilityAlertContext"));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="x1cy8zhl xvbhtw8 x1wzhzgj x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno",b[0]=g):g=b[0];var k;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(){return m.jsx(c("IGDSText.react"),{size:"body",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},b[1]=k):k=b[1];b[2]!==e||b[3]!==a?(k=m.jsx(c("CometErrorBoundary.react"),{fallback:k,children:m.jsx(t,{isSecureThread:e,message:a})}),b[2]=e,b[3]=a,b[4]=k):k=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__3xvXvnMysnL__JHASH__"),b[5]=e):e=b[5];b[6]!==i||b[7]!==f||b[8]!==j?(a=function(){i(f,!0),j(h._("__JHASH__uaE7oNQBPYH__JHASH__"),{assertive:!1})},b[6]=i,b[7]=f,b[8]=j,b[9]=a):a=b[9];var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("IGDSXFilledIcon.react"),{alt:h._("__JHASH__3xvXvnMysnL__JHASH__"),color:"ig-primary-text",size:12}),b[10]=l):l=b[10];b[11]!==a?(e=m.jsx(c("IGDSIconButton.react"),{label:e,onClick:a,xstyle:q.cancelButton,children:l}),b[11]=a,b[12]=e):e=b[12];b[13]!==k||b[14]!==e?(l=m.jsxs("div",{className:g,"data-testid":void 0,children:[k,e]}),b[13]=k,b[14]=e,b[15]=l):l=b[15];return l}function a(a){var b=p(15),e=a.messageId,g=a.messageTimestamp;a=a.thread;var h=(i||(i=c("useReStore")))(),j=a.threadKey;a=a.threadType;var k;b[0]!==a?(k=d("LSMessagingThreadTypeUtil").isSecure(a),b[0]=a,b[1]=k):k=b[1];a=k;b[2]!==h.tables.messages||b[3]!==j||b[4]!==g||b[5]!==e?(k=function(){return d("ReQL").fromTableAscending(h.tables.messages).getKeyRange(j,g,e)},b[2]=h.tables.messages,b[3]=j,b[4]=g,b[5]=e,b[6]=k):k=b[6];var l;b[7]!==h||b[8]!==j||b[9]!==e||b[10]!==g?(l=[h,j,e,g],b[7]=h,b[8]=j,b[9]=e,b[10]=g,b[11]=l):l=b[11];k=d("ReQLSuspense").useFirst(k,l,f.id+":320");b[12]!==k||b[13]!==a?(l=k?m.jsx(u,{isSecureThread:a,message:k}):null,b[12]=k,b[13]=a,b[14]=l):l=b[14];return l}g["default"]=a}),98);
__d("IGDOpenComposer.react",["IGDAiAgentsUtils","IGDComposerReplyView.react","IGDComposerView.react","IGDEqualityUtils","IGDSupportedFileTypes","MWMediaManager","MWPReplyContext.react","gkx","react","useIGDDeviceType","useIGDMediaMangerUploadFailedToast","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext;b.useMemo;var k=b.unstable_useMemoCache;function l(a){var b=k(30),e=a.onSendMessage;a=a.thread;var f=j(d("MWPReplyContext.react").MWPReplyContext);f=f.reply;var g=c("useIGDMediaMangerUploadFailedToast")(),h;b[0]!==g||b[1]!==a?(h={showUploadFailureToast:g,thread:a},b[0]=g,b[1]=a,b[2]=h):h=b[2];g=d("MWMediaManager").useMediaManager(h);h=g.handleFileSelect;var l=c("useOnTypingStateChanged")(a),m=a.threadSubtype;m=d("IGDAiAgentsUtils").isAiThread(m);c("useMWV2FileDropzoneRegisterHandler")(h);var o=d("useIGDDeviceType").useIGDDeviceType().isMobile,p;b[3]!==g.mediaStaging||b[4]!==e||b[5]!==l||b[6]!==a.threadKey?(p={isPreviewThread:!1,mediaStaging:g.mediaStaging,onSendMessage:e,onTypingStateChanged:l,threadKey:a.threadKey},b[3]=g.mediaStaging,b[4]=e,b[5]=l,b[6]=a.threadKey,b[7]=p):p=b[7];g=c("useMWPComposerEditor")(p);var q=g.editor;l=g.editorElementRef;p=g.hasStuffToSend;g=g.sendMessage;var r;b[8]!==e||b[9]!==q?(r=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b;e.apply(void 0,d);n()&&q.focus(function(){})},b[8]=e,b[9]=q,b[10]=r):r=b[10];r=r;var s;b[11]!==f||b[12]!==a?(s=f!=null?i.jsx(c("IGDComposerReplyView.react"),{messageId:f.messageId,messageTimestamp:f.timestampMs,thread:a}):null,b[11]=f,b[12]=a,b[13]=s):s=b[13];f=f==null;m=!o&&!m;var t;b[14]!==o?(t=d("IGDSupportedFileTypes").getIGDSupportedFileTypes(o),b[14]=o,b[15]=t):t=b[15];b[16]!==f||b[17]!==q||b[18]!==l||b[19]!==m||b[20]!==p||b[21]!==h||b[22]!==r||b[23]!==g||b[24]!==t||b[25]!==a?(o=i.jsx(c("IGDComposerView.react"),{attachmentsSupported:f,editor:q,editorElementRef:l,emojisSupported:m,hasStuffToSend:p,isSecureThread:!1,onAttachmentsAdded:h,onSendMessage:r,policyProduct:"messaging_lightswitch",sendMessage:g,supportedFileTypes:t,surface:"mwp_igd_composer",thread:a}),b[16]=f,b[17]=q,b[18]=l,b[19]=m,b[20]=p,b[21]=h,b[22]=r,b[23]=g,b[24]=t,b[25]=a,b[26]=o):o=b[26];b[27]!==s||b[28]!==o?(f=i.jsxs("div",{children:[s,o]}),b[27]=s,b[28]=o,b[29]=f):f=b[29];return f}function a(a){var b=k(8),c=a.afterSendMessage;a=a.thread;c=m(a,c);var e;b[0]!==a.authorityLevel||b[1]!==a.threadKey||b[2]!==a.threadSubtype||b[3]!==a.threadType?(e={authorityLevel:a.authorityLevel,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},b[0]=a.authorityLevel,b[1]=a.threadKey,b[2]=a.threadSubtype,b[3]=a.threadType,b[4]=e):e=b[4];a=d("useStableValue").useStableValue(e,d("IGDEqualityUtils").shallowEqualI64);b[5]!==c||b[6]!==a?(e=i.jsx(l,{onSendMessage:c,thread:a}),b[5]=c,b[6]=a,b[7]=e):e=b[7];c=e;return c}function m(a,b){var d=k(3),e;d[0]!==b||d[1]!==a?(e={afterSendMessage:b,skipUrlPreviewGen:!1,thread:a},d[0]=b,d[1]=a,d[2]=e):e=d[2];b=c("useMWV2OnSendOpenMessage")(e);return c("useStableCallback")(b)}function n(){return c("gkx")("24012")}g["default"]=a}),98);
__d("IGDTLCBlockedComposer.react",["fbt","IGDThreadListNewMessageLoggingDataContext","MWXComposerBanner.react","MessengerWebUXLogger","react","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.loggingEventName;var b=h._("__JHASH__Msl4SKF2rjv__JHASH__"),e=h._("__JHASH__Iv_ZxhLNItG__JHASH__"),f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId();f.current=c("uuidv4")();a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:a,extraData:{is_tlc:"true"},flowInstanceId:f.current});return j.jsx(c("MWXComposerBanner.react"),{bodyText:e,headerText:b,ref:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePrecompileURLMatcher",["URLMatcher","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=!1;function a(){i(function(){if(j)return;j=!0;c("URLMatcher").compilePermissiveHostPathMatcher()},[])}g["default"]=a}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","IGDDisappearingMessagesBlockedComposer.react","IGDInstamadilloUtils","IGDOpenComposer.react","IGDTLCBlockedComposer.react","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","LSThreadBitOffset","MWCMThreadTypes.react","MWPActor.react","MWV2ErrorComposer.react","ReQL","ReQLSuspense","RecoverableViolation.react","ThreadStatus","WebUXLoggingSurfaceContextProvider","isFeatureLimitEnabled","lazyLoadComponent","qex","react","useIsIGDDisappearingMessagesEnabledForThread","useIsReadOnlyFeatureLimited","usePrecompileURLMatcher","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("react"))).unstable_useMemoCache,m=i,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDFeatureLimitsBlockedComposer.react").__setRef("IGDComposerCommon.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("IGDComposerCommon.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("IGDComposerCommon.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDComposerRestricted.react").__setRef("IGDComposerCommon.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockedUserComposer.react").__setRef("IGDComposerCommon.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDChannelEndedComposer.react").__setRef("IGDComposerCommon.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function v(a){var b=l(3);a=a.height;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=m.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}function w(a){var b=l(4),e=a.afterSendMessage;a=a.thread;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return m.jsx(c("MWV2ErrorComposer.react"),{})},b[0]=f):f=b[0];b[1]!==e||b[2]!==a?(f=m.jsx(c("CometErrorBoundary.react"),{fallback:f,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:m.jsx(c("IGDOpenComposer.react"),{afterSendMessage:e,thread:a})})})}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function x(a){var b=l(7),e=a.afterSendMessage;a=a.thread;var f=a.cannotReplyReason==="viewer_not_subscribed"||a.cannotReplyReason==="read_only",g=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),h=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype);if(f){b[0]!==a?(f=m.jsx(o,{thread:a}),b[0]=a,b[1]=f):f=b[1];return f}else if(h&&g){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(t,{}),b[2]=f):f=b[2];return f}else if(a.cannotReplyReason!=null){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(p,{}),b[3]=h):h=b[3];return h}b[4]!==e||b[5]!==a?(g=m.jsx(w,{afterSendMessage:e,thread:a}),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}function y(a){var b=l(18),e=a.afterSendMessage,f=a.otherUser;a=a.thread;var g=!(j||(j=d("I64"))).equal(f.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),h=d("LSContactBitOffset").has(0,f),i=d("LSContactBitOffset").has(1,f);h=!h||!i;i=f.blockedSinceTimestampMs!=null?!1:h;h=f.contactReachabilityStatusType;var n=h!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE),h)||(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER),h):!0,o=d("LSContactBitOffset").has(66,f),p=c("useIsIGDDisappearingMessagesEnabledForThread")(a.threadKey),t=a!=null?d("LSThreadBitOffset").has(214,a):!1;p=p&&d("IGDInstamadilloUtils").isDMHardblockedEnabled();t=t&&c("qex")._("426")===!0;h=h!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK),h):!1;if(n)if(g){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=m.jsx(v,{height:189}),b[0]=n):n=b[0];b[1]!==f||b[2]!==a?(g=m.jsx(c("CometPlaceholder.react"),{fallback:n,children:m.jsx(s,{contact:f,thread:a})}),b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}else if(o){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=m.jsx(v,{height:128}),b[4]=n):n=b[4];b[5]!==f||b[6]!==a?(g=m.jsx(c("CometPlaceholder.react"),{fallback:n,children:m.jsx(q,{contact:f,thread:a})}),b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}else if(i){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=m.jsx(r,{}),b[8]=o):o=b[8];return o}else if(p){b[9]===Symbol["for"]("react.memo_cache_sentinel")?(n=m.jsx(v,{height:128}),b[9]=n):n=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(c("CometPlaceholder.react"),{fallback:n,children:m.jsx(c("IGDDisappearingMessagesBlockedComposer.react"),{loggingEventName:"igd_fallback_thread_disabled"})}),b[10]=f):f=b[10];return f}else if(t){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(v,{height:128}),b[11]=g):g=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(i=m.jsx(c("CometPlaceholder.react"),{fallback:g,children:m.jsx(c("IGDTLCBlockedComposer.react"),{loggingEventName:"igd_fallback_thread_disabled"})}),b[12]=i):i=b[12];return i}else{b[13]!==e||b[14]!==a?(o=m.jsx(w,{afterSendMessage:e,thread:a}),b[13]=e,b[14]=a,b[15]=o):o=b[15];return o}else if(h){b[16]===Symbol["for"]("react.memo_cache_sentinel")?(p=m.jsx(u,{}),b[16]=p):p=b[16];return p}else{b[17]===Symbol["for"]("react.memo_cache_sentinel")?(n=m.jsx(r,{}),b[17]=n):n=b[17];return n}}function z(a){var b=l(34),e=a.afterSendMessage,g=a.hasActivity,i=a.thread,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();b[0]!==o.tables.thread_nullstate||b[1]!==i.threadKey?(a=function(){return d("ReQL").fromTableAscending(o.tables.thread_nullstate).getKeyRange(i.threadKey)},b[0]=o.tables.thread_nullstate,b[1]=i.threadKey,b[2]=a):a=b[2];var q;b[3]!==o||b[4]!==i.threadKey?(q=[o,i.threadKey],b[3]=o,b[4]=i.threadKey,b[5]=q):q=b[5];a=d("ReQLSuspense").useFirst(a,q,f.id+":388");b[6]!==a?(q=a!=null?(j||(j=d("I64"))).equal(a.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED)):!1,b[6]=a,b[7]=q):q=b[7];a=q;q=g;b[8]!==o.tables.participants||b[9]!==o.tables.contacts||b[10]!==i.threadKey?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(o.tables.participants,[]).getKeyRange(i.threadKey),d("ReQL").fromTableAscending(o.tables.contacts,["id","name","secondaryName","blockedByViewerStatus","capabilities","capabilities2","blockedSinceTimestampMs","contactTypeExact","contactReachabilityStatusType"]))},b[8]=o.tables.participants,b[9]=o.tables.contacts,b[10]=i.threadKey,b[11]=g):g=b[11];var r;b[12]!==o||b[13]!==i.threadKey?(r=[o,i.threadKey],b[12]=o,b[13]=i.threadKey,b[14]=r):r=b[14];var s=d("ReQLSuspense").useArray(g,r,f.id+":405");b[15]!==s||b[16]!==p?(g=function(){if(s.length===1){var a=s[0];a=a[1].id;return(j||(j=d("I64"))).equal(p,a)}return!1},r=[p,s],b[15]=s,b[16]=p,b[17]=g,b[18]=r):(g=b[17],r=b[18]);var t=d("Int64Hooks").useMemoInt64(g,r);b[19]!==i.threadType||b[20]!==s||b[21]!==t||b[22]!==p?(g=function(){if(!d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType))return;if(s.length===1){var a=s[0];if(t)return a}return s.find(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,p)})},r=[p,t,s,i.threadType],b[19]=i.threadType,b[20]=s,b[21]=t,b[22]=p,b[23]=g,b[24]=r):(g=b[23],r=b[24]);g=d("Int64Hooks").useMemoInt64(g,r);r=d("LSMessagingThreadTypeUtil").isSecure(i.threadType);r=c("useIsReadOnlyFeatureLimited")()&&(!r||c("isFeatureLimitEnabled")());var u;b[25]!==a||b[26]!==q||b[27]!==r||b[28]!==i||b[29]!==g||b[30]!==e?(u=a&&!q?null:r?m.jsx(n,{}):d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?g!=null?m.jsx(y,{afterSendMessage:e,otherUser:g[1],thread:i}):m.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):m.jsx(x,{afterSendMessage:e,thread:i}),b[25]=a,b[26]=q,b[27]=r,b[28]=i,b[29]=g,b[30]=e,b[31]=u):u=b[31];b[32]!==u?(a=m.jsx(m.Fragment,{children:u}),b[32]=u,b[33]=a):a=b[33];return a}function a(a){var b=l(11),e=a.afterSendMessage,g=a.thread,i=(h||(h=c("useReStore")))();c("usePrecompileURLMatcher")();b[0]!==i.tables.threads||b[1]!==g.threadKey?(a=function(){return d("ReQL").fromTableAscending(i.tables.threads,["lastActivityTimestampMs"]).getKeyRange(g.threadKey).map(function(a){return a.lastActivityTimestampMs})},b[0]=i.tables.threads,b[1]=g.threadKey,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g.threadKey?(k=[i,g.threadKey],b[3]=i,b[4]=g.threadKey,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":512");k=a!=null?!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero):!0;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return m.jsx(c("MWV2ErrorComposer.react"),{})},b[6]=a):a=b[6];b[7]!==e||b[8]!==k||b[9]!==g?(a=m.jsx(c("CometErrorBoundary.react"),{fallback:a,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(z,{afterSendMessage:e,hasActivity:k,thread:g})})}),b[7]=e,b[8]=k,b[9]=g,b[10]=a):a=b[10];return a}g.IGDComposerCommonPlaceholder=v;g.IGDComposerCommon=a}),98);